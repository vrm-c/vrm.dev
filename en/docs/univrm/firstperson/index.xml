<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>VRM – FirstPerson</title><link>https://vrm.dev/en/docs/univrm/firstperson/</link><description>Recent content in FirstPerson on VRM</description><generator>Hugo -- gohugo.io</generator><lastBuildDate>Mon, 12 Oct 2020 18:24:56 +0900</lastBuildDate><atom:link href="https://vrm.dev/en/docs/univrm/firstperson/index.xml" rel="self" type="application/rss+xml"/><item><title>Docs: VRMFirstPerson</title><link>https://vrm.dev/en/docs/univrm/firstperson/univrm_firstperson/</link><pubDate>Mon, 16 Apr 2018 16:30:00 +0900</pubDate><guid>https://vrm.dev/en/docs/univrm/firstperson/univrm_firstperson/</guid><description>
&lt;p>VRM FirstPerson has two types of setting:&lt;/p>
&lt;ul>
&lt;li>VR headset position&lt;/li>
&lt;li>The visibility setting of a mesh from a camera in VR&lt;/li>
&lt;/ul>
&lt;p>※ These settings only work on VRM application side&lt;/p>
&lt;h2 id="headset-position">Headset Position&lt;/h2>
&lt;p>You can adjust how the movement of the headset is reflected on the model&amp;rsquo;s head by the followings:&lt;/p>
&lt;h3 id="firstpersonbone">FirstPersonBone&lt;/h3>
&lt;p>FirstPersonBone keeps track of a VR headset in the first-person view.
Normally the Head bone is assigned as FirstPersonBone.&lt;/p>
&lt;h3 id="firstpersonoffset">FirstPersonOffset&lt;/h3>
&lt;p>The offset from the FirstPersonBone position to the tracking position. [0, 0.06, 0] is the default offset from the head to the middle of the eyes.&lt;/p>
&lt;h2 id="vr-visibility-setting">VR Visibility Setting&lt;/h2>
&lt;p>The visibility setting is for VR applications.
For a VR application, two types of camera, First-person camera and Third-person camera, are expected to be used.&lt;/p>
&lt;ul>
&lt;li>First-person camera (Head-mounted display)&lt;/li>
&lt;li>Third-person camera (Other users&amp;rsquo; HMD, mirror, etc. For streaming)&lt;/li>
&lt;/ul>
&lt;p>However, for first-person camera, the user may encounter the following situations:&lt;/p>
&lt;ul>
&lt;li>Model&amp;rsquo;s head gets cut by the near plane&lt;/li>
&lt;li>The view is blocked by the Model&amp;rsquo;s hair&lt;/li>
&lt;li>The inside of the model&amp;rsquo;s head can be seen such as teeth&lt;/li>
&lt;/ul>
&lt;p>To address the above issues, you can set up the visibility of each mesh for First-person camera and Third-person camera:&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>Setting&lt;/th>
&lt;th>First-Person Camera&lt;/th>
&lt;th>Third-Person Camera&lt;/th>
&lt;th>Note&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>Both&lt;/td>
&lt;td>〇&lt;/td>
&lt;td>〇&lt;/td>
&lt;td>The part with a certain distance from the head (e.g. body, hands and feet)&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>FirstPersonOnly&lt;/td>
&lt;td>〇&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>ThirdPersonOnly&lt;/td>
&lt;td>&lt;/td>
&lt;td>〇&lt;/td>
&lt;td>Only visible from the external camera (e.g. head, hair, hat)&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Auto&lt;/td>
&lt;td>Described below&lt;/td>
&lt;td>Described below&lt;/td>
&lt;td>Default&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h3 id="reset-visibility-setting">Reset Visibility Setting&lt;/h3>
&lt;p>The default setting for Mesh Renderer in VRMFirstPerson is &lt;code>Auto&lt;/code>.
If you increase/decrease the number of meshes (i.e. change the model&amp;rsquo;s structure), the reference to the original mesh may become &lt;code>Missing&lt;/code>, resulting in VRM Export failure.
We can fix the missing problem by resetting VRMFirstPerson.
Click the &lt;code>gear icon ⚙&lt;/code> on the upper right corner of &lt;code>VRM First Person(Script)&lt;/code> inspector and select &lt;code>Reset&lt;/code> shown as follow:&lt;/p>
&lt;img src="https://vrm.dev/images/vrm/firstperson_reset.gif" alt="firstperson reset" width="600" />
&lt;h3 id="use-auto-to-split-mesh-into-both-and-thirdpersononly">Use Auto to split Mesh into Both and ThirdPersonOnly&lt;/h3>
&lt;p>If &lt;code>Auto&lt;/code> is specified, the mesh will be split into two parts (&lt;code>Both&lt;/code> and &lt;code>ThirdPersonOnly&lt;/code>) automatically during import.
In UniVRM, call &lt;a href="https://vrm.dev/en/docs/univrm/programming/univrm_use_firstperson/#call-setup-function-at-runtime-and-set-layermask-in-camera">VRMFirstPerson.Setup()&lt;/a> for auto splitting.&lt;/p>
&lt;h4 id="meshannotationauto-algorithm">MeshAnnotation.Auto Algorithm&lt;/h4>
&lt;ul>
&lt;li>For a mesh specified as &lt;code>Auto&lt;/code>, each vertex will be checked whether it contains the weight of Head bone (or the child of the Head bone)&lt;/li>
&lt;li>Split the mesh into two groups: the first group contains triangles with HeadBone-related vertices while the second group contains triangles with the rest of the vertices&lt;/li>
&lt;li>Set the mesh containing the HeadBone-related vertices as &lt;code>ThirdPersonOnly&lt;/code>. And another mesh is set as &lt;code>Both&lt;/code>&lt;/li>
&lt;/ul>
&lt;p>Note that auto splitting is a heavy processing.&lt;/p>
&lt;h3 id="recommended-structure">Recommended Structure&lt;/h3>
&lt;p>Split the model into &lt;code>Head&lt;/code> and &lt;code>Body&lt;/code>.&lt;/p>
&lt;ul>
&lt;li>Specify &lt;code>ThirdPersonOnly&lt;/code> for &lt;code>Head&lt;/code>&lt;/li>
&lt;li>Specify &lt;code>Both&lt;/code> for &lt;code>Body&lt;/code>&lt;/li>
&lt;/ul>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>&lt;img src="https://vrm.dev/images/vrm/firstperson.png" />
&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>Alicia&amp;rsquo;s &lt;code>Body&lt;/code> is set as &lt;code>Both&lt;/code>, while the parts related to &lt;code>Head&lt;/code> are set as &lt;code>ThirdPersonOnly&lt;/code>.&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>&lt;img src="https://vrm.dev/images/vrm/firstperson_runtime.png" alt="firstperson" />
&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>The meshes with &lt;code>ThirdPersonOnly&lt;/code> setting are not rendered in FirstPerson.&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table></description></item></channel></rss>